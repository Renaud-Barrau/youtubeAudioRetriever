\doxysection{youtubeapi.\+h}
\hypertarget{youtubeapi_8h_source}{}\label{youtubeapi_8h_source}\mbox{\hyperlink{youtubeapi_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ YOUTUBEAPI\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ YOUTUBEAPI\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <QTimer>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <QObject>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <QCoreApplication>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <QNetworkAccessManager>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <QNetworkRequest>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <QNetworkReply>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <QUrl>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <QUrlQuery>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <QJsonDocument>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <QJsonObject>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <QJsonArray>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <QDebug>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <QVector>}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{using\ namespace\ }std;}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_you_tube_a_p_i}{YouTubeAPI}}\ :\ \textcolor{keyword}{public}\ QObject}
\DoxyCodeLine{00025\ \{}
\DoxyCodeLine{00026\ \ \ \ \ Q\_OBJECT}
\DoxyCodeLine{00027\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_you_tube_a_p_i_ac3ba9f24c449a40c3f206a04298b6784}{YouTubeAPI}}(QObject\ *parent\ =\ \textcolor{keyword}{nullptr})\ :\ QObject(parent)\ \{}
\DoxyCodeLine{00030\ \textcolor{comment}{//\ \ \ \ \ \ \ \ accessToken\ =\ "{}"{};}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_you_tube_a_p_i_acd7a6327818e78cc77cfa7870140a41f}{timer}}-\/>setInterval(\mbox{\hyperlink{class_you_tube_a_p_i_a54564306c1dbe98b62ce6ae2787967f2}{refreshTime}});}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_you_tube_a_p_i_acd7a6327818e78cc77cfa7870140a41f}{timer}}-\/>start();}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Signal\ émit\ une\ fois\ que\ le\ access\ token\ a\ été\ chargé\ dans\ YouTubeAPI::accessToken\ -\/>\ lance\ le\ fetch\ des\ playlists}}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ connect(\textcolor{keyword}{this},\ SIGNAL(\mbox{\hyperlink{class_you_tube_a_p_i_a308bf4e5776f529914e80acfe042f278}{fetchPlaylistElementSignal}}()),\ \textcolor{keyword}{this},\ SLOT(\mbox{\hyperlink{class_you_tube_a_p_i_a9296e9f1ad4ad5fa40a7f4f6b6a8b142}{fetchPlaylistElements}}()));}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ connect(\textcolor{keyword}{this},\ SIGNAL(\mbox{\hyperlink{class_you_tube_a_p_i_a19f05e424a6c1fa77db60e0f5bf2cf8d}{fetchPlaylistsSignal}}()),\ \textcolor{keyword}{this},\ SLOT(\mbox{\hyperlink{class_you_tube_a_p_i_a3cbda9e07e635353088e1e4cf5ee51b6}{fetchPlaylists}}()));}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Signal\ émit\ lorsque\ le\ timer\ arrive\ au\ bout\ de\ 1h\ -\/>\ récupération\ d'un\ nouveau\ token\ avec\ getToken}}
\DoxyCodeLine{00041\ \textcolor{comment}{//\ \ \ \ \ \ \ \ connect(timer,\ SIGNAL(timeout()),\ this,\ SLOT(timerTimeout()));}}
\DoxyCodeLine{00042\ \textcolor{comment}{//\ \ \ \ \ \ \ \ connect(this,\ SIGNAL(signalTimerTimeout(QString,QString,QString)),\ this,\ SLOT(getToken(QString,QString,QString)));}}
\DoxyCodeLine{00043\ \ \ \ \ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00047\ \ \ \ \ QString\ \mbox{\hyperlink{class_you_tube_a_p_i_abb3021db19b69d741fcfbc82b4a55f16}{Api}};}
\DoxyCodeLine{00048\ \ \ \ \ QString\ \mbox{\hyperlink{class_you_tube_a_p_i_a5c8e72246c89a401b1e7ae279a160cd0}{clientId}};}
\DoxyCodeLine{00049\ \ \ \ \ QString\ \mbox{\hyperlink{class_you_tube_a_p_i_a410f09120b7f3d91673382f007d9d081}{clientSecretCode}};}
\DoxyCodeLine{00050\ \ \ \ \ QString\ \mbox{\hyperlink{class_you_tube_a_p_i_a10d72aeab996c6cc38c48bcb7c4c8a7b}{refreshToken}};}
\DoxyCodeLine{00051\ \ \ \ \ QString\ \mbox{\hyperlink{class_you_tube_a_p_i_ae19532880b5c06b52fee69c645444289}{accessToken}};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_you_tube_a_p_i_a1ed3e8cd8b3f0537db9d54a96e4a1f3b}{maxResults}}\ =\ 3;}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ QNetworkAccessManager\ \mbox{\hyperlink{class_you_tube_a_p_i_a6acfba4acff0c31401514868f83d70c9}{manager}};}
\DoxyCodeLine{00056\ \ \ \ \ QNetworkReply\ *\mbox{\hyperlink{class_you_tube_a_p_i_a2a33fb8070a1eac5465b0e5c9f9b0373}{getTokenReply}};}
\DoxyCodeLine{00057\ \ \ \ \ QNetworkReply\ *\mbox{\hyperlink{class_you_tube_a_p_i_ad8d43f4efa1a49ee6461065772f24611}{checkTokenInfoReply}};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ QTimer\ *\mbox{\hyperlink{class_you_tube_a_p_i_acd7a6327818e78cc77cfa7870140a41f}{timer}}\ =\ \textcolor{keyword}{new}\ QTimer();}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_you_tube_a_p_i_a54564306c1dbe98b62ce6ae2787967f2}{refreshTime}}\ =\ 3500000;}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ QVector<QString>\ \mbox{\hyperlink{class_you_tube_a_p_i_aa57991add51a98b4dc00eac0e20dd86a}{videoIdArray}};}
\DoxyCodeLine{00063\ \ \ \ \ QVector<QString>\ \mbox{\hyperlink{class_you_tube_a_p_i_a0d4d1d53b13f99c4bf72b4d2d2be68b2}{videoTitleArray}};}
\DoxyCodeLine{00064\ \ \ \ \ QVector<QString>\ \mbox{\hyperlink{class_you_tube_a_p_i_ab89c03871c7f032b759ce665b898fe73}{videoThumbnailsUrlArray}};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ QVector<QString>\ \mbox{\hyperlink{class_you_tube_a_p_i_aaa3337e9bd28aece1e417f753a9075fd}{playlistNameArray}};}
\DoxyCodeLine{00067\ \ \ \ \ QVector<QString>\ \mbox{\hyperlink{class_you_tube_a_p_i_a92c60a9254dfa295601657fbcca69ae7}{playlistIdArray}};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ QString\ \mbox{\hyperlink{class_you_tube_a_p_i_ade6610db39d3e430cc2b09b71c91afaa}{requestSource}};}
\DoxyCodeLine{00070\ \ \ \ \ QString\ \mbox{\hyperlink{class_you_tube_a_p_i_a482d080709a69cdc63020eedf46cd36b}{playlistName}};}
\DoxyCodeLine{00071\ \ \ \ \ QString\ \mbox{\hyperlink{class_you_tube_a_p_i_aa309bbecd1d74608203557ddd51f46b2}{playlistId}};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a546d6e903755f7ed5f26e9aba6bb766c}{processPlaylistsElements}}(\textcolor{keyword}{const}\ QByteArray\ \&data);}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a5fd11e04b20f22e930bc1444aa23b203}{processPlaylists}}(\textcolor{keyword}{const}\ QByteArray\ \&data);}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a6cf10d00c5770e9f2b9d2fae564d58d7}{checkTokenInfo}}();}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ signals:}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a308bf4e5776f529914e80acfe042f278}{fetchPlaylistElementSignal}}();}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a19f05e424a6c1fa77db60e0f5bf2cf8d}{fetchPlaylistsSignal}}();}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_af0245b052f8d8b7632ad35fa2c6af0f4}{signalTimerTimeout}}(QString,QString,QString);}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_ab8a87dfc207cc2e325f7aaf9330d103b}{videoDataLoaded}}(QVector<QString>,QVector<QString>,QVector<QString>,QString);}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_ac3ef55996d3e08dfb75fd7ba649dc2ce}{playlistListLoaded}}(QVector<QString>,QVector<QString>);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \textcolor{keyword}{public}\ slots:}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a9296e9f1ad4ad5fa40a7f4f6b6a8b142}{fetchPlaylistElements}}();}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a3cbda9e07e635353088e1e4cf5ee51b6}{fetchPlaylists}}();}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{comment}{//\ void\ getToken(QString\ clientId,QString\ clientSecretCode,QString\ refreshToken);}}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a139b11ea0bc05154cc12a5c59d91d896}{getToken}}();}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a92092b9c7c15579b5f6249b10062fa51}{timerTimeout}}();}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a972fbda68c56ac9c2656e375012c4f57}{retrieveAccessToken}}();}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a020f4a9911f6eb03d5d0e2157523a05c}{retrieveAccessTokenInfo}}();}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a56eba955a21c604ea83bb471fe58d7d4}{printToken}}();}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a27f2da751c6074a0bad09b000794fbf4}{updateRequestSource}}(QString\ newRequest);}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_a7d410aa5a4f8879de630488ec144b849}{updatePlaylistId}}(\textcolor{keywordtype}{int}\ index);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_you_tube_a_p_i_ab6ca267b5732261153918c178314494a}{updateParams}}(QString,QString);}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ YOUTUBEAPI\_H}}

\end{DoxyCode}
